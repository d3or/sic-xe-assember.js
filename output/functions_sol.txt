0000	COPY	START	0		.copy the file form INPUT to OUTPUT0000	FIRST	STL	RETADR	17202D	.Save Return address0003		LDB	#LENGTH	69202D	.establish base register		BASE	LENGTH		0006	CLOOP	+JSUB	RDREC	4B101036	.Read INPUT Record000A		LDA	LENGTH	032026	.Test for EOF (Length = 0)000D		COMP	#0	290000	0010		JEQ	ENDFIL	332007	.Exit if EOF found0013		+JSUB	WRREC	4B10105D	.Write OUTPUT Record0017		J	CLOOP	3F2FEC	.Loop001A	ENDFIL	LDA	EOF	032010	.Insert End Of File Marker001D		STA	BUFFER	0F2016	0020		LDA	#3	010003	.Set LENGTH = 30023		STA	LENGTH	0F200D	0026		+JSUB	WRREC	4B10105D	.write EOF002A		J	@RETADR	3E2003	.Return to Caller002D	EOF	BYTE	C'EOF'	454f46	0030	RETADR	RESW	1		0033	LENGTH	RESW	1		.LENGTH of Record0036	BUFFER	RESB	4096		.4096-BYTE Buffer area	.					.	SUBROUTINE TO READ RECORD INTO BUFFER				.				1036	RDREC	CLEAR	X	B410	.Clear Loop counter1038		CLEAR	A	B400	.Clear A to Zero103A		CLEAR	S	B440	.Clear S to Zero103C		+LDT	#4096	75101000	1040	RLOOP	TD	INPUT	E32019	.Test INPUT device1043		JEQ	RLOOP	332FFA	.LOOP until ready1046		RD	INPUT	DB2013	.READ character into Register A1049		COMPR	A,S	A004	.TEST for End Of Record (X'00')104B		JEQ	EXIT	332008	.EXIT loop if EOR104E		STCH	BUFFER,X	57C003	.STORE character in BUFFER1051		TIXR	T	B850	.LOOP unless max Length has been reached1053		JLT	RLOOP	3B2FEA	1056	EXIT	STX	LENGTH	134000	.SAVE record length1059		RSUB		4F0000	.Return to caller105C	INPUT	BYTE	X'F1'	F1	.CODE for Input device	.					.	SUBROUTINE TO WRITE RECORD FROM BUFFER				.				105D	WRREC	CLEAR	X	B410	.CLEAR loop counter105F		LDT	LENGTH	774000	1062	WLOOP	TD	OUTPUT	E32011	.Test OUTPUT Device1065		JEQ	WLOOP	332FFA	.Loop Until Ready1068		LDCH	BUFFER,X	53C003	.GET character form BUFFER106B		WD	OUTPUT	DF2008	.WRITE character106E		TIXR	T	B850	.LOOP until all characters have been written1070		JLT	WLOOP	3B2FEF	1073		RSUB		4F0000	.Return to caller1076	OUTPUT	BYTE	X'05'	05	.CODE for OUPUT device		END	FIRST												